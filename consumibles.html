<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="consumibles.css" >
    <script src="app.js" async></script>
    <title>Comprar</title>
</head>
<body>
    <header>
        <div class="container-hero">
            <div class="container hero">
                <div class="customer-support">
                    <i class="fa-solid fa-headset"></i>
                    <div class="content-customer-support">
                        <span class="text">Atencion a clientes</span>
                        <span class="number">442 111 977 83</span>
                    </div>
                </div>

                <div class="container-logo">
                    <i class="fa-solid fa-microchip"></i>
                    <h1 class="logo"><a href="/">AJ Tec</a></h1>
                </div>

               
                </div>
            </div>
        </div>

        <div class="container-navbar">
            <nav class="navbar container">
                <i class="fa-solid fa-bars"></i>
                <ul class="menu">
                    <li><a href="index.html">Inicio</a></li>
						<li><a href="equipos.html">Comprar equipos</a></li>
						<li><a href="accesorios.html">Comprar accesorios</a></li>
						<li><a href="consumibles.html">Comprar consumibles</a></li>
                        <li><a href="login.html">Inicio de sesion</a></li>
                </ul>

                
                    </button>
                </form>
            </nav>
        </div>
    </header>

    <section class="content about">

        <h1>Consumibles</h1>
        <p>Nuestos consumibles de computo al mejor precio</p>

       

    </section>

    <section class="contenedor">
        <!-- Contenedor de elementos -->
        <div class="contenedor-items">
            
            <div class="item">
                <span class="titulo-item">Toner Gpr43 Genérico Imagerunner Ir Gpr43</span>
                <img src="img/tonner1.webp" alt="" class="img-item">
                <span class="precio-item">$875</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">Toner Compatible León Premium Mlt D103s Ml</span>
                <img src="img/tonner2.webp" alt="" class="img-item">
                <span class="precio-item">$479</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">Kit 4 Toner Genérico Color</span>
                <img src="img/tonner3.webp" alt="" class="img-item">
                <span class="precio-item">$1599</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">PSA Kit 10 Cartuchos Toner Brother</span>
                <img src="img/tonner4.jpg" alt="" class="img-item">
                <span class="precio-item">$1800</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">Toner Para Impresora Hp Laser 107w</span>
                <img src="img/tonner1.webp" alt="" class="img-item">
                <span class="precio-item">$678</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">Kit Toners Original Sharp</span>
                <img src="img/tonner5.webp" alt="" class="img-item">
                <span class="precio-item">$6393</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">Tóner 83A para impresoras láser</span>
                <img src="img/tonner6.jpg" alt="" class="img-item">
                <span class="precio-item">$3199</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">Kit 4 Toner Alpha 6515 6510</span>
                <img src="img/tonner7.webp" alt="" class="img-item">
                <span class="precio-item">$1160</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">4 Toner Compatibles 6000</span>
                <img src="img/tonner8.webp" alt="" class="img-item">
                <span class="precio-item">$615</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">Epson 4 Pack Cartuchos Tinta T504</span>
                <img src="img/tinta1.jpg" alt="" class="img-item">
                <span class="precio-item">$763</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">Pack de 3 Cartuchos de Tinta HP 711 </span>
                <img src="img/tinta2.avif" alt="" class="img-item">
                <span class="precio-item">$1979</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">SanSeCai Cartuchos de tinta</span>
                <img src="img/tinta3.jpg" alt="" class="img-item">
                <span class="precio-item">$911</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">Cartucho Epson T206 Magenta</span>
                <img src="img/tinta4.jpg" alt="" class="img-item">
                <span class="precio-item">$294</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">4 Tinta Cartuchos Compatibles Para Epson </span>
                <img src="img/tinta5.webp" alt="" class="img-item">
                <span class="precio-item">$615</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">Epson Paquete de 4 tintas Color Negro</span>
                <img src="img/tinta6.jpg" alt="" class="img-item">
                <span class="precio-item">$798</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">BROTHER - Paquete de 3 cartuchos de tinta </span>
                <img src="img/tinta7.jpg" alt="" class="img-item">
                <span class="precio-item">$915</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
        </div>
        
        <!-- Carrito de Compras -->
        <div class="carrito" id="carrito">
            <div class="header-carrito">
                <h2>Tu Carrito</h2>
            </div>

            <div class="carrito-items">
              
            </div>
            <div class="carrito-total">
                <div class="fila">
                    <strong>Tu Total</strong>
                    <span class="carrito-precio-total">
                      
                    </span>
                </div>
                <button class="btn-pagar">Pagar <i class="fa-solid fa-bag-shopping"></i> </button>
            </div>
        </div>
    </section>
    <!-- ... tu código HTML anterior ... -->

    <script src="app.js"></script>
    <script>
        // Agrega un evento al botón de "Agregar al Carrito" para guardar los datos
        const agregarAlCarritoButtons = document.querySelectorAll('.boton-item');
        agregarAlCarritoButtons.forEach((button) => {
            button.addEventListener('click', guardarCompraEnArchivo);
        });
    
        // Función para guardar la compra en un archivo de texto
        function guardarCompraEnArchivo(event) {
            const item = event.target.parentElement;
            const titulo = item.querySelector('.titulo-item').textContent;
            const precio = item.querySelector('.precio-item').textContent;
    
            const data = `${titulo}, ${precio}`;
    
            // Agregar información adicional antes de guardar en el archivo
            const empresa = "Nombre de tu empresa";
            const direccion = generarDireccionAleatoria();
            const horaImpresion = obtenerHoraImpresion();
    
            const ticketRecibo = `${empresa}\n${direccion}\n------------------------------\n${data}\n\nHora de impresión: ${horaImpresion}\n\n\n`;
    
            // Guardar el ticket/recibo en un archivo de texto
            guardarEnArchivo(ticketRecibo);
    
            // Envía los datos al archivo de texto utilizando una solicitud HTTP POST
            const xhr = new XMLHttpRequest();
            xhr.open('POST', 'guardar_compra.php', true);
            xhr.setRequestHeader('Content-type', 'text/plain');
            xhr.send(data);
    
            alert('La compra se ha guardado en el archivo.');
        }
    
        // Función para generar una dirección aleatoria
        function generarDireccionAleatoria() {
            // Aquí puedes implementar la lógica para generar una dirección aleatoria
            // Puedes utilizar una API de geolocalización o simplemente generar una dirección ficticia
            const direccionAleatoria = "123 Calle Ficticia, Ciudad Imaginaria";
            return direccionAleatoria;
        }
    
        // Función para obtener la hora de impresión
        function obtenerHoraImpresion() {
            const fecha = new Date();
            const hora = fecha.getHours();
            const minutos = fecha.getMinutes();
            const horaImpresion = `${hora}:${minutos}`;
            return horaImpresion;
        }
    
        // Función para guardar en un archivo de texto
        function guardarEnArchivo(texto) {
            // Crea un elemento de enlace para descargar el archivo
            const enlace = document.createElement('a');
            enlace.href = `data:text/plain;charset=utf-8,${encodeURIComponent(texto)}`;
            enlace.download = 'ticket_recibo.txt';
            enlace.style.display = 'none';
    
            // Agrega el enlace al cuerpo del documento y haz clic en él para descargar el archivo
            document.body.appendChild(enlace);
            enlace.click();
            document.body.removeChild(enlace);
        }
    </script>

</body>
</html>